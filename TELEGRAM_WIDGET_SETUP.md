# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Login Widget

## –ü—Ä–æ–±–ª–µ–º–∞
–í–∏–¥–∂–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/telegram_login`. –ë–æ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –≤–∏–¥–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.

## –ü—Ä–∏—á–∏–Ω—ã
Telegram Login Widget —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram** –∏ –Ω–∞–π–¥–∏—Ç–µ @BotFather
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:** `/mybots`
3. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:** `@Clever_driver_bot`
4. **–ù–∞–∂–º–∏—Ç–µ:** "Bot Settings" ‚Üí "Domain"
5. **–î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω:** `cleverdriver.ru`
6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ BotFather –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback –∫–Ω–æ–ø–∫—É** "üì± –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram"
2. **–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å** - –∫–Ω–æ–ø–∫–∞ "üîë –í–æ–π—Ç–∏ –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é"
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é** —á–µ—Ä–µ–∑ API –±–æ—Ç–∞

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/test_bot` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
- DevTools ‚Üí Console - –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞:
- ‚úÖ –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –î–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
- ‚úÖ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `data-auth-url`

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Bot:** `@Clever_driver_bot`
- **Domain:** `cleverdriver.ru`
- **Auth URL:** `https://cleverdriver.ru/telegram_auth`
- **CSP:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è telegram.org –∏ t.me

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä—è–º–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
```python
# –í bot/handlers.py –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /start –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
@bot.message_handler(commands=['start'])
def start_auth(message):
    # –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    pass
```

### 2. –í–µ–±-—Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞ —Å –ª–æ–≥–∏–Ω–æ–º/–ø–∞—Ä–æ–ª–µ–º.

### 3. OAuth —á–µ—Ä–µ–∑ Telegram API
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π OAuth flow —á–µ—Ä–µ–∑ Telegram API.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º:
1. **–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ `driver-bot.log`
2. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - DevTools ‚Üí Console
3. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/telegram_login`
4. **–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/test_bot`

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è:
- Telegram: @BotFather (–¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://core.telegram.org/widgets/login
- GitHub Issues: –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º
