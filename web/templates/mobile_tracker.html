<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Tracker</title>
    <style>
        body { font-family: Arial; margin: 0; padding: 20px; background: linear-gradient(135deg, #e0e7ff 0%, #f5f7fa 100%); }
        .container { max-width: 400px; margin: 0 auto; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        h2 { color: #2d3a5a; text-align: center; }
        .status { background: #e0f7fa; border-radius: 8px; padding: 12px; margin: 12px 0; text-align: center; }
        .btn { background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%); color: white; border: none; border-radius: 8px; padding: 12px 24px; cursor: pointer; width: 100%; }
        .info { color: #64748b; font-size: 14px; text-align: center; margin-top: 16px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>ÔøΩÔøΩ –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä</h2>
        <div id="status" class="status">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
        <button class="btn" onclick="sendLocation()">–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
        <div class="info">
            <strong>‚ö†Ô∏è –ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É!</strong><br>
            –¢—Ä–µ–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∞.
        </div>
    </div>
    <script>
        function sendLocation() {
            if (navigator.geolocation) {
                document.getElementById('status').textContent = 'üîÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏...';
                navigator.geolocation.getCurrentPosition(function(position) {
                    fetch('/api/location', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('status').textContent = '‚úÖ –¢—Ä–µ–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç! ' + new Date().toLocaleTimeString();
                    })
                    .catch(error => {
                        document.getElementById('status').textContent = '‚ùå –û—à–∏–±–∫–∞: ' + error.message;
                    });
                }, function(error) {
                    document.getElementById('status').textContent = '‚ùå –û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: ' + error.message;
                });
            } else {
                document.getElementById('status').textContent = '‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è';
            }
        }
        setInterval(sendLocation, 10000);
        window.onload = sendLocation;
    </script>
</body>
</html>