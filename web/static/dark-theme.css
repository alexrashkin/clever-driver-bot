/* Универсальные стили тёмной темы для всех страниц */

/* Основные стили тёмной темы */
body.dark {
    background: #18181b !important;
    color: #f1f5ff !important;
}

/* ===== УНИВЕРСАЛЬНОЕ УБРАНИЕ БЕЛОЙ ПОЛОСКИ ===== */

/* Принудительно убираем белую полоску на ВСЕХ страницах в тёмной теме */
body.dark,
body.dark html,
body.dark body {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* НЕ применяем тёмный фон к элементам на главной странице (landing) */
body.dark.landing *,
body.dark.landing *::before,
body.dark.landing *::after {
    /* Оставляем оригинальные стили для главной страницы */
}

/* Принудительно переопределяем ВСЕ inline стили на ВСЕХ страницах (кроме главной) */
body.dark:not(.landing) *[style*="background"],
body.dark:not(.landing) *[style*="background:"],
body.dark:not(.landing) *[style*="linear-gradient"],
body.dark:not(.landing) *[style*="rgba"],
body.dark:not(.landing) *[style*="rgb"] {
    background: #0b1220 !important;
    background-image: none !important;
}

/* По умолчанию светлый фон для страниц about и settings */
html { 
    background: linear-gradient(135deg, #eef2ff, #f8fafc) !important; /* светлый градиент по умолчанию */
}
body:not(.landing):not(.admin-page) {
    background: linear-gradient(135deg, #eef2ff, #f8fafc) !important; /* светлый градиент по умолчанию */
    margin-top: 45px;
}

/* Тёмная тема для внешнего фона (применяется только когда body.dark) */
body.dark:not(.landing):not(.admin-page) {
    background: linear-gradient(180deg, #0b1220 0%, #0b1220 100%) !important;
}

body.dark html {
    background: #0b1220 !important;
}

/* Контейнеры */
body.dark .container,
body.dark .register-container,
body.dark .login-container,
body.dark .settings-container,
body.dark .about-container {
    background: #23232b !important;
    color: #ffffff !important; /* Улучшенный контраст - белый основной текст */
    box-shadow: 0 8px 32px rgba(30, 41, 59, 0.25), 0 1.5px 6px #6366f133 !important;
}

/* Улучшенная читаемость для всех текстовых элементов */
body.dark .container p,
body.dark .container span,
body.dark .container div,
body.dark .register-container p,
body.dark .register-container span,
body.dark .register-container div,
body.dark .login-container p,
body.dark .login-container span,
body.dark .login-container div,
body.dark .settings-container p,
body.dark .settings-container span,
body.dark .settings-container div,
body.dark .about-container p,
body.dark .about-container span,
body.dark .about-container div {
    color: #e2e8f0 !important; /* Улучшенный контраст - светло-серый текст */
}

/* Поля ввода */
body.dark input[type="text"],
body.dark input[type="password"],
body.dark input[type="email"],
body.dark input[type="number"],
body.dark textarea,
body.dark select {
    background: #374151 !important;
    color: #f1f5ff !important;
    border-color: #4b5563 !important;
}

body.dark input[type="text"]:focus,
body.dark input[type="password"]:focus,
body.dark input[type="email"]:focus,
body.dark input[type="number"]:focus,
body.dark textarea:focus,
body.dark select:focus {
    border-color: #6366f1 !important;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1) !important;
}

/* Кнопки */
body.dark:not(.landing) .btn,
body.dark:not(.landing) button,
body.dark:not(.landing) .nav-btn,
body.dark:not(.landing) .back-btn,
body.dark:not(.landing) .back-link {
    background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%) !important;
    color: #fff !important;
}

/* Сообщения */
body.dark .msg {
    background: #35354a !important;
    color: #4ade80 !important;
    box-shadow: 0 1px 4px rgba(30, 41, 59, 0.18) !important;
}

body.dark .msg.error {
    background: #4b2323 !important;
    color: #ef4444 !important;
}

body.dark .success-message {
    background: rgba(72, 187, 120, 0.1) !important;
    color: #6ee7b7 !important;
    border-left-color: #48bb78 !important;
}

body.dark .error-message {
    background: rgba(245, 101, 101, 0.1) !important;
    color: #fca5a5 !important;
    border-left-color: #f56565 !important;
}

/* Информационные блоки */
body.dark .info-block {
    background: rgba(99, 102, 241, 0.1) !important;
    color: #ffffff !important; /* Улучшенный контраст - белый текст */
}

body.dark .info-block-title {
    color: #ffffff !important; /* Улучшенный контраст - белый заголовок */
    font-weight: 600 !important;
}

body.dark .info-block-text {
    color: #e2e8f0 !important; /* Улучшенный контраст - светло-серый текст */
}

/* Специальные стили для страницы настроек в тёмной теме */
body.dark .settings-container {
    background: #23232b !important;
    color: #ffffff !important; /* Улучшенный контраст - белый основной текст */
}

body.dark .settings-container h1,
body.dark .settings-container h2,
body.dark .settings-container h3 {
    color: #ffffff !important; /* Улучшенный контраст - белые заголовки */
}

body.dark .settings-container p,
body.dark .settings-container span,
body.dark .settings-container div {
    color: #e2e8f0 !important; /* Улучшенный контраст - светло-серый текст */
}

/* Специальные стили для информационных блоков на странице настроек */
body.dark .settings-container div[style*="background: rgba(99, 102, 241, 0.1)"],
body.dark .settings-container div[style*="background: rgba(34, 197, 94, 0.1)"] {
    background: rgba(99, 102, 241, 0.15) !important;
    color: #ffffff !important;
}

body.dark .settings-container div[style*="background: rgba(34, 197, 94, 0.1)"] {
    background: rgba(34, 197, 94, 0.15) !important;
}

/* Стили для заголовков в информационных блоках */
body.dark .settings-container div[style*="font-weight: 600"] {
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Стили для текста в информационных блоках */
body.dark .settings-container div[style*="color: #374151"] {
    color: #e2e8f0 !important;
}

/* Стили для кнопки "Назад на главную" */
body.dark:not(.landing) .back-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: #ffffff !important;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3) !important;
}

body.dark:not(.landing) .back-btn:hover,
body.dark:not(.landing) .back-btn:focus {
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4) !important;
}

/* Стили для всех заголовков на странице */
body.dark:not(.landing) h1,
body.dark:not(.landing) h2,
body.dark:not(.landing) h3,
body.dark:not(.landing) h4,
body.dark:not(.landing) h5,
body.dark:not(.landing) h6 {
    color: #ffffff !important;
}

/* Ссылки */
body.dark:not(.landing) a {
    color: #a5b4fc !important;
}

body.dark:not(.landing) a:hover {
    color: #818cf8 !important;
}

/* Кнопка переключения темы */
body.dark:not(.landing) #theme-toggle,
body.dark:not(.landing) .theme-btn {
    background: rgba(55, 65, 81, 0.9) !important;
    color: #f1f5ff !important;
    border: 1px solid #4b5563 !important;
}

body.dark:not(.landing) #theme-toggle:hover,
body.dark:not(.landing) .theme-btn:hover {
    background: rgba(75, 85, 99, 0.9) !important;
    transform: scale(1.05) !important;
}

/* ===== СПЕЦИАЛЬНЫЕ СТИЛИ ДЛЯ СТРАНИЦЫ TELEGRAM_LOGIN ===== */

/* Принудительно убираем белую полоску на странице telegram_login */
body.dark .telegram-login,
body.dark .telegram-login *,
body.dark .telegram-login html,
body.dark .telegram-login body,
body.dark .telegram-login div,
body.dark .telegram-login section,
body.dark .telegram-login header,
body.dark .telegram-login footer {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* Принудительно переопределяем ВСЕ inline стили на странице telegram_login */
body.dark .telegram-login *[style*="background"],
body.dark .telegram-login *[style*="background:"],
body.dark .telegram-login *[style*="linear-gradient"],
body.dark .telegram-login *[style*="rgba"],
body.dark .telegram-login *[style*="rgb"] {
    background: #0b1220 !important;
    background-image: none !important;
}

/* Принудительно переопределяем ВСЕ inline стили на странице telegram_login */
body.dark .telegram-login *[style] {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* Кнопка темы в навигации */
.theme-btn {
    transition: all 0.3s ease !important;
}

.theme-btn:hover {
    transform: scale(1.05) !important;
}

/* Адаптация для мобильных устройств */
@media (max-width: 768px) {
    body.dark .container,
    body.dark .register-container,
    body.dark .login-container,
    body.dark .settings-container {
        background: #23232b !important;
        color: #ffffff !important; /* Улучшенный контраст - белый основной текст */
    }
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ МОБИЛЬНОЙ СТРАНИЦЫ ===== */

/* Принудительно убираем белую полоску - устанавливаем тёмный фон для ВСЕХ элементов */
body.dark .mobile-tracker,
body.dark .mobile-tracker *,
body.dark .mobile-tracker html,
body.dark .mobile-tracker body,
body.dark .mobile-tracker div,
body.dark .mobile-tracker section,
body.dark .mobile-tracker header,
body.dark .mobile-tracker footer {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* Основной контейнер мобильной страницы */
body.dark .mobile-tracker .container {
    background: #23232b !important;
    color: #ffffff !important;
    box-shadow: 0 4px 24px rgba(30, 41, 59, 0.25) !important;
}

/* Заголовки */
body.dark .mobile-tracker h1,
body.dark .mobile-tracker h2,
body.dark .mobile-tracker h3,
body.dark .mobile-tracker h4,
body.dark .mobile-tracker h5,
body.dark .mobile-tracker h6 {
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Информационные блоки */
body.dark .mobile-tracker .info {
    color: #e2e8f0 !important;
}

body.dark .mobile-tracker .info strong {
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Футер */
body.dark .mobile-tracker footer {
    color: #94a3b8 !important;
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ СТАТУСНЫХ БЛОКОВ ===== */

/* Принудительно переопределяем ВСЕ статусные блоки */
body.dark .mobile-tracker .status-block,
body.dark .mobile-tracker div[class*="status"],
body.dark .mobile-tracker div[style*="background"],
body.dark .mobile-tracker div[style*="background:"] {
    background: #1f2937 !important;
    color: #ffffff !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Рабочий статус */
body.dark .mobile-tracker .status-block.working,
body.dark .mobile-tracker div[class*="working"],
body.dark .mobile-tracker div[style*="green"] {
    background: #1f2937 !important;
    color: #ffffff !important;
    font-weight: 700 !important;
    font-size: 18px !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;
}

/* Ошибка */
body.dark .mobile-tracker .status-block.error,
body.dark .mobile-tracker div[class*="error"],
body.dark .mobile-tracker div[style*="red"] {
    background: #4b2323 !important;
    color: #ffffff !important;
    font-weight: 700 !important;
    font-size: 18px !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;
}

/* ===== ПРИНУДИТЕЛЬНОЕ ПЕРЕОПРЕДЕЛЕНИЕ ВСЕХ СВЕТЛЫХ ФОНОВ ===== */

/* Убираем ВСЕ светлые фоны на мобильной странице */
body.dark .mobile-tracker *[style*="background"],
body.dark .mobile-tracker *[style*="background:"],
body.dark .mobile-tracker *[style*="linear-gradient"],
body.dark .mobile-tracker *[style*="rgba"],
body.dark .mobile-tracker *[style*="rgb"] {
    background: #23232b !important;
    background-image: none !important;
}

/* ===== МАКСИМАЛЬНО АГРЕССИВНЫЕ ПРАВИЛА ===== */

/* Принудительно переопределяем ВСЕ inline стили на мобильной странице */
body.dark .mobile-tracker *[style] {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* Принудительно переопределяем ВСЕ градиенты */
body.dark .mobile-tracker *[style*="linear-gradient"] {
    background: #0b1220 !important;
    background-image: none !important;
}

/* Принудительно переопределяем ВСЕ цвета фона */
body.dark .mobile-tracker *[style*="background:"] {
    background: #0b1220 !important;
}

/* Принудительно переопределяем ВСЕ цвета текста */
body.dark .mobile-tracker *[style*="color:"] {
    color: #ffffff !important;
}

/* ===== МАКСИМАЛЬНО АГРЕССИВНОЕ ПЕРЕОПРЕДЕЛЕНИЕ ===== */

/* Принудительно переопределяем ВСЕ элементы на мобильной странице */
body.dark .mobile-tracker,
body.dark .mobile-tracker *,
body.dark .mobile-tracker *::before,
body.dark .mobile-tracker *::after {
    background: #0b1220 !important;
    background-image: none !important;
    background-color: #0b1220 !important;
}

/* Принудительно переопределяем ВСЕ текстовые элементы */
body.dark .mobile-tracker *,
body.dark .mobile-tracker p,
body.dark .mobile-tracker span,
body.dark .mobile-tracker div,
body.dark .mobile-tracker h1,
body.dark .mobile-tracker h2,
body.dark .mobile-tracker h3,
body.dark .mobile-tracker h4,
body.dark .mobile-tracker h5,
body.dark .mobile-tracker h6 {
    color: #ffffff !important;
}

/* Кнопка переключения темы */
body.dark .mobile-tracker .theme-toggle {
    background: rgba(55, 65, 81, 0.9) !important;
    color: #f1f5ff !important;
    border: 1px solid #4b5563 !important;
}

body.dark .mobile-tracker .theme-toggle:hover {
    background: rgba(75, 85, 99, 0.9) !important;
}